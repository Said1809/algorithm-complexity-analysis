"""
Модуль для генерации различных типов тестовых данных для проверки алгоритмов сортировки.
Содержит функции для создания четырех типов массивов: случайные, отсортированные,
обратно отсортированные и почти отсортированные данные.
"""

import random  # O(1)


def generate_random(n):
    """
    Генерирует массив из n случайных чисел в диапазоне [0, 100000].
    
    Временная сложность: O(n) - необходимо создать n элементов, каждый random.randint O(1)
    Пространственная сложность: O(n) - массив из n элементов
    
    Args:
        n (int): размер генерируемого массива
    
    Returns:
        list: список из n случайных целых чисел
    """
    return [random.randint(0, 100000) for _ in range(n)]  # O(n)


def generate_sorted(n):
    """
    Генерирует отсортированный (в порядке возрастания) массив чисел от 0 до n-1.
    Это лучший случай для многих алгоритмов сортировки.
    
    Временная сложность: O(n) - создание n элементов
    Пространственная сложность: O(n) - массив из n элементов
    
    Args:
        n (int): размер генерируемого массива
    
    Returns:
        list: список [0, 1, 2, ..., n-1]
    """
    return list(range(n))  # O(n)


def generate_reversed(n):
    """
    Генерирует обратно отсортированный (в порядке убывания) массив чисел от n-1 до 0.
    Это худший случай для многих алгоритмов сортировки (bubble_sort, insertion_sort).
    
    Временная сложность: O(n) - создание n элементов в обратном порядке
    Пространственная сложность: O(n) - массив из n элементов
    
    Args:
        n (int): размер генерируемого массива
    
    Returns:
        list: список [n-1, n-2, ..., 1, 0]
    """
    return list(range(n, 0, -1))  # O(n)


def generate_almost_sorted(n, disorder_percent=5):
    """
    Генерирует почти отсортированный массив с контролируемым процентом беспорядка.
    Начинает с отсортированного массива и случайно обменивает (disorder_percent % * n) пар элементов.
    
    Временная сложность: O(n) - O(n) на создание + O(disorder_percent/100 * n) на обмены = O(n)
    Пространственная сложность: O(n) - массив из n элементов
    
    Args:
        n (int): размер генерируемого массива
        disorder_percent (int): процент нарушений упорядоченности (по умолчанию 5%)
    
    Returns:
        list: почти отсортированный список [0, 1, 2, ..., n-1] с небольшими нарушениями
    """
    arr = list(range(n))  # O(n)
    swaps = n * disorder_percent // 100  # O(1)
    
    for _ in range(swaps):  # O(swaps) = O(n * disorder_percent/100) = O(n)
        i, j = random.randrange(n), random.randrange(n)  # O(1)
        arr[i], arr[j] = arr[j], arr[i]  # O(1)
    
    return arr  # O(1)
